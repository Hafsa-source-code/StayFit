<div class="d-flex justify-content-center my-5">
    <div class="card shadow p-4 progress-tracker-card" style="max-width:600px; width:100%;">
        <h2 class="fw-bold text-center text-success mb-3">
            Progress Tracker
        </h2>

        <p class="text-center text-muted mb-4">
            Log your weekly progress to stay motivated!
        </p>

        <!-- Gender & Age -->
        <div class="mb-3">
            <label class="form-label fw-semibold">Gender</label>
            <select id="Gender" name="Gender" class="form-select mb-2">
                <option value="">Select Gender</option>
                <option value="male">Male</option>
                <option value="female">Female</option>
            </select>

            <label class="form-label fw-semibold">Age</label>
            <input type="number" id="Age" name="Age" class="form-control" placeholder="Enter Age" />
        </div>

        <div class="mb-4 text-center">
            Suggested Daily Calories: 
            <span id="calorie-result" class="fw-bold text-success"></span>
        </div>

        <form method="post" action="/User/ProgressTracker">
            <div class="mb-3">
                <label class="form-label fw-semibold">
                    Current Weight (kg)
                </label>
                <input type="number" step="0.1" name="weeklyWeight" class="form-control" required />
            </div>

            <button class="btn btn-success w-100 fw-semibold">
                Save Progress
            </button>
        </form>
    </div>
</div>

<script>
function calculateCalories() {
    var age = $("#Age").val();
    var gender = $("#Gender").val();

    if (!age || !gender) {
        $("#calorie-result").html("");
        return;
    }

    $.ajax({
        url: "/User/GetCalorieSuggestion",
        type: "GET",
        data: { age: age, gender: gender },
        success: function (res) {
            $("#calorie-result").html(res.calories + " kcal/day");
        }
    });
}

$("#Age, #Gender").on("change keyup", calculateCalories);
</script>

<style>
.progress-tracker-card {
    width: 100%;
    max-width: 600px;
}
</style>
